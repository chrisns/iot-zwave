name: Docker Image CI
on: [push]

jobs:

  build:
 
    runs-on: ubuntu-latest
 
    steps:
    - uses: actions/checkout@v1
#     - name: Build and push the Docker image
#       run: |
#         docker build -t ${GITHUB_REPOSITORY}:latest
        
#         docker build . --file Dockerfile --tag docker.pkg.github.com/chrisns/iot-zwave:${GITHUB_SHA}
#         docker push docker.pkg.github.com/chrisns/iot-zwave:${GITHUB_SHA}

    - name: Docker login
      env:
#         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        docker_username: ${{ secrets.docker_username }}
        docker_password: ${{ secrets.docker_password }}
      run: |
        docker login  -u $docker_username -p ${docker_password}
